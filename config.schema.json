{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/product.schema.json",
  "title": "DNA sequencing pipeline configuration",
  "description": "Config file for sequencing pipeline",
  "type": "object",
  "properties": {
    "output": {
      "description": "The unique identifier for a product",
      "type": "array",
      "items": { "type": "string" },
      "minItems": 1
      },
    "ref_name": {
      "description": "Name of the reference (can be anything)",
      "type": "string"
      },
    "reference": {
      "description": "Path to the reference FASTA file",
      "type": "string"
      },
    "mask_repeats": {
      "description": "Whether to mask repetitive sequences in the reference genome",
      "type": "boolean"
      },
    "data_locations": {
      "description": "Shorthand identifiers for data file locations and the locations that they correspond to",
      "type": "object",
      "properties": {
        "*": { "type": "string" }
        },
      "minItems": 1
      },
    "illumina": {
      "description": "Options specific to Illumina reads",
      "type": "object",
      "properties": { 
        "aligner": { "enum": ["bowtie2", "bwa"] }
        },
      "required": ["aligner"]
      },
    "caller": {
      "description": "SNP caller to be used",
      "enum": ["bcftools", "freebayes"]
      },
    "filtering": {
      "description": "Conditions to use for filtering SNPs",
      "type": "array",
      "items": { "type": "string" }
      },
    "bcftools_opts": {
      "description": "Options to use for BCFtools SNP calling",
      "type": "object",
      "properties": {
        "call_as_groups": { "type": "boolean" },
        "call_type": { "enum": ["m", "c"] }
        }
      "required": ["call_as_groups", "call_type"]
      },
    "freebayes_opts": {
      "description": "Options to use for freebayes SNP calling",
      "type": "object",
      "properties": {
        "chunks": { "type": "integer" }
        },
      "required": ["chunks"]
      }
    },
  "required": [
    "output",
    "ref_name",
    "reference",
    "caller",
    "filtering",
    "bcftools_opts",
    "freebayes_opts"
    ]
  }

